# 구현할 기능 목록

- [x] 게임 참여할 사람 이름 입력
- [x] 배팅 금액 입력
- [ ] 카드 분배
  - [x] 두 장의 카드 지급(딜러는 한장만 공개)
    - [ ] 두 장의 카드 합이 21이라면 블랙잭
      - [ ] 플레이어가 블랙잭이라면 `배팅 금액 * 1.5`의 가격을 받음
      - [ ] 딜러가 블랙잭일 경우
        - [ ] 블랙잭인 플레이어는 `배팅 금액 그대로`를 돌려받음
        - [ ] 나머지 플레이어는 패배 처리
  - [ ] 플레이어는 21이 넘기 전까지 계속해서 카드를 받을 수 있음
  - [ ] 딜러의 카드 합이 16 이하일 경우 1장을 더 받음
- [ ] 배팅 금액, 게임 결과에 따른 배분

# 고민

## 상속 구조?

Dealer와 Player는 공통점이 많다. 카드를 받을 수 있고, 점수를 내야 한다.

하나의 클래스를 상속받은 형태로 만들었다면 굉장히 편할 것 같지만.. 우선은 주어진 클래스를 건드리지 않는 방향으로 해보기로 했다.

그렇다면 카드 리스트를 받아온 후 계산을 하는 게.. 흐음.. 불편한데..

좋은 구조를 만드는 게 먼저일 것 같아서 그냥 상속을 사용하기로 했다.

## 출력을 위한 처리?

딜러와 플레이어들은 각자의 카드를 지니고 있다.

해당 카드들에 대해 출력 요청을 하는 방법은 2가지가 있을 듯 보인다.

1. Output에게 딜러와 플레이어들의 데이터를 넘김 -> Output에서 각각의 객체에 접근하여 값을 가져옴
2. Blackjack에서 각자의 카드 정보를 수집 -> Output에게 해당 카드들의 정보를 알려줌

첫번째 방법은 객체 자체를 넘겨버리면 Output에서 객체의 컨트롤이 가능해진다. 따라서 좋지 않은 방법이므로 두번째 방법처럼 정리 후 넘겨주기로 했다.

그러나 해당 방법은 단지 이용하기 위한 데이터를 넘겨주는 것이기에, dto를 따로 운영해야하는 듯 보인다.

## Controller의 역할은 어디까지나 엔드포인트?

지금까지 코드를 작성하면서, 대부분의 로직을 Controller가 작성했었다. 그러나 View가 바뀌어도(콘솔 기반에서 GUI 기반으로 바뀌는 등) 로직은 실행되어야 하며, 이는 Service가 맡는다고 한다.

흠.. 그렇다면 Service의 비중이 늘어나야 한다는 건데, 블랙잭이 진행되며 입력을 받을 타이밍이 굉장히 많다. Service에서 View를 부를 수도, Controller를 부를 수도 없기에 Service 내 값을 채울 부분을 비워두고 Controller에서 호출하며 콜백으로 운용해야 해당 방향이 좋을 것 같다고 느껴졌다.. 만 이게 과연 맞을까?

일단 한번 시도는 해보기로.. 했으나 그것보다는 각자의 역할과 책임에 맞게 작성하는 게 좋을 듯 하다.

Controller에서 이름과 배팅값을 받아 정리 후 Service에 넘기고, Service는 해당 값들을 바탕으로 플레이어 객체를 만든 후 블랙잭 객체를 반환한다.

Controller에서 블랙잭 객체에게 메시지를 보내 출력 dto를 받고 출력한다.

또한 Service를 통해 블랙잭 객체에게 적절한 입력값을 안내하고, 카드 추가 배분을 선택한다(이 부분은 콜백이 나을지도?).

